---
title: "CSS 选择器"
date: 2020-01-26
categories:
  - web语言
tags:
  - web语言
keywords:
  - CSS
comments: false
thumbnailImagePosition: left
thumbnailImage: https://s2.ax1x.com/2020/01/26/1mDeN6.png
---

**CSS**（Cascading Style Sheets，即层叠样式表），是一种标记HTML样式的脚本语言。CSS需要使用选择器选中相应的元素，才能为其设置特定的样式。这篇文章我们将介绍CSS中常见的选择器。

<!--more-->

<!-- toc -->

<br>

## 1、普通选择器

HTML文档中的每一个元素(或者说DOM结构树中的每一个节点)，都可以由标签和属性组成。属性往往是以属性名和属性值的形式成对出现的，可以有很多对。其中有两个属性名比较特别：**id**属性用于确定整个文档中唯一的一个特定元素，所以取值必须是唯一的；**class**属性用于确定整个文档中某一类元素，同一个元素可以被划分为多个类别，此时其**class**属性的取值是由多个以空格分开的值构成的。

以下选择器，在CSS中常被用于选择HTML文档中的标签和属性。注意我们可以将以下选择器结合使用（中间不留空格），用以表示同时满足多个条件的元素。比如：`a[href^="https"]`表示指向**https**类型网址的超链接；`.abc.def`表示属性**class**中既拥有值**"abc"**，又拥有值**"def"**的元素；`[abc="123"][def="456"]`表示属性**abc="123"**且属性**def="456"**的元素。

|  语法                     | 说明
|:--------------------------|:---------------------------------------------------------------------
| `tag`                     | 匹配**tag**标签
| `#id`                     | 匹配属性**id="id"**的元素
| `.class`                  | 匹配属性**class**中拥有值**"class"**的元素
| `[attr]`                  | 匹配拥有**attr**属性的元素
| `[attr=value]`            | 匹配属性**attr="value"**的元素
| `[attr*=value]`           | 匹配属性**attr**的值中包含**value**的元素
| `[attr^=value]`           | 匹配属性**attr**的值以**value**为前缀的元素
| `[attr^=value]`           | 匹配属性**attr**的值以**value**为后缀的元素
| `[attr~=value]`           | 匹配属性**attr**的以空格分割后的值中，包含**value**的元素
| `[attr|=value]`           | 匹配属性**attr**的值等以**value**，或以**value**开头后面有连字符的元素
| `[attr opt value i]`      | 根据**opt**规则，匹配属性时忽略大小写，如`[attr = "Val" i]`
| `[attr opt value s]`      | 根据**opt**规则，匹配属性时区分大小写

<br>

## 2、关系选择器

HTML文档中的每一个元素，都可以拥有子元素、父元素，以及与其相邻的上、下一个元素。CSS中的关系选择器，就是根据这些位置信息来选择相应的元素的。注意这里的 *通配符* 在关系选择器中十分有用。比如`selector *`可以选择某个元素内部的所有子元素（包括子元素的子元素等）。

|  语法                     | 说明
|:--------------------------|:---------------------------------------------------------------------
| `*`                       | 匹配任意元素
| `selector1, selector2`    | 匹配**selector1**选中的元素，以及**selector2**选中的元素
| `selector1 selector2`     | 匹配**selector1**选中的元素内部的，**selector2**选中的元素
| `selector1>selector2`     | 匹配以**selector1**选中的元素为父元素的，**selector2**选中的元素
| `selector1+selector2`     | 匹配**selector1**选中的元素之后紧接着的，**selector2**选中的元素
| `selector1~selector2`     | 匹配**selector1**选中的元素之后的，**selector2**选中的元素

<br>

## 3、伪类选择器

伪类是CSS中选择器的一种扩展，可以用于实现一些基于普通选择器无法实现的特殊效果。比如对某种状态下的超链接、输入控件设置特定的样式等。

|  语法                     | 说明
|:--------------------------|:---------------------------------------------------------------------
| `:link`                   | 匹配未被点击的超链接，如`a:link`
| `:hover`                  | 匹配当前鼠标指针指向的超链接
| `:active`                 | 匹配当前点击的超链接
| `:visited`                | 匹配已被点击的超链接
| `:any-link`               | 匹配所有超链接，包括已点击的和未被点击的
| `:target`                 | 匹配当前跳转到的瞄点元素
| `:focus`                  | 匹配当前光标所在的位置，或被Tab键选中的位置（链接、输入控件等）
| `:focus-visible`          | 匹配当前可见的，光标在其内部的元素
| `:focus-within`           | 匹配光标在其内部，或在其子元素内部的元素
| `:enabled`                | 匹配启用的输入控件，如`input:enabled`
| `:disabled`               | 匹配禁用的输入控件
| `:required`               | 用于匹配必须填写的输入控件
| `:optional`               | 用于匹配可选择填写的输入控件
| `:read-write`             | 匹配可读写的输入控件
| `:read-only`              | 匹配只读的输入控件
| `:in-range`               | 匹配输入的值在指定区间之内的输入控件
| `:out-of-range` 	        | 匹配输入的值在指定区间之外的输入控件
| `:valid`                  | 用于匹配输入值合法的输入控件
| `:invalid`                | 用于匹配输入值不合法的输入控件
| `:blank`                  | 匹配空白的文本输入控件
| `:placeholder-shown`      | 匹配包含占位符的文本输入控件
| `:checked`                | 匹配被选中的输入选项
| `:indeterminate`          | 匹配暂不确定是否会被用户选中的输入选项
| `:default`                | 匹配默认输入选项
| `:dir()`                  | 匹配某种书写方向下的文本，如`:dir(rtl)`
| `:lang()`                 | 匹配某种语言下的文本，如`:lang(en)`，需要在标签中定义**lang**属性
| `:fullscreen`             | 匹配全屏展示的元素（弹窗、视频等），如`video::fullscreen`
| `:empty`                  | 匹配没有子元素的某个元素，如`p:empty`
| `:root`                   | 匹配根结点，多用于定义全局变量等
| `:defined`                | 匹配所有被 *定义* 的元素，包含html标准元素及使用JS定义的元素
| `:scope`                  | 匹配某个预定义的范围，多用于JS
| `:left`                   | 打印页面左边的页边距部分，如`@page :left`
| `:right`                  | 打印页面右边的页边距部分
| `:first`                  | 打印页面的第一页

<br>

## 3.1、伪类中的关系选择器

伪类中的一些选择器，也可以根据元素的位置关系、多个选择器间的逻辑关系（与或非等），来对HTML文档进行选择。

| `:first-child`            | 匹配某元素内部的，第一个特定的子元素，如`div p:first-child`
| `:last-child`             | 匹配某元素内部的，最后一个特定的子元素
| `:only-child`             | 匹配某元素内部的，唯一一个特定的子元素
| `:nth-child(n)`           | 匹配某元素内部的，第n个特定的子元素
| `:nth-last-child(n)`      | 匹配某元素内部的，倒数第n个特定的子元素
| `:first-of-type`          | 匹配某元素内部的，同类子元素中的第一个，如`div p:first-of-type`
| `:last-of-type`           | 匹配某元素内部的，同类子元素中的最后第一个
| `:only-of-type`           | 匹配某元素内部的，唯一一个该类别的子元素
| `:nth-of-type(n)`         | 匹配某元素内部的，同类子元素中的第n个
| `:nth-last-of-type(n)`    | 匹配某元素内部的，同类子元素中的倒数第n个
| `:not()`                  | 反向匹配，如`:not(p)`
| `:is()`                   | 匹配多个选择器中的任意一个，如`:is(p, span)`
| `:where()`                | 匹配多个复杂选择器中的任意一个，多用于JS
| `:has()`                  | 匹配包含某个选择条件的元素，如`a:has(> img)`，多用于JS

<br>

注意`:first-child` 与`:first-of-type`同是选择第一个子元素，但二者有所不同。比如在以下HTML语句中，**div**元素的第一个子元素是**a**，所以`div p:first-child`匹配不到任何内容；**div**元素包含多个**p**元素，所以`div p:first-of-type`会匹配到其中的第一个（即**<p> 段落 1 </p>**）。

```html
<div>
  <a href="/"> 超链接 </a>
  <p> 段落 1 </p>
  <p> 段落 2 </p>
</div>
```

<br>

## 4、伪元素选择器

伪元素是相对HTML文档中固有的元素而言的，在文档中原本不存在的，或者使用普通选择器无法区分的元素。使用伪元素我们可以非常方便的实现一些特殊效果，比如行首缩进，拼写检查等。

|  语法                     | 说明
|:--------------------------|:---------------------------------------------------------------------
| `::before`                | 用于在某个元素的内容之前插入内容，如`p::before{ content: '> '; }`
| `::after`                 | 用于在某个元素的内容之后插入内容
| `::first-letter`          | 匹配段落中的首字母，如`p:first-letter`
| `::first-line`            | 匹配段落中的首行
| `::spelling-error`        | 匹配拼写错误的文本
| `::grammar-error`         | 匹配语法错误的文本
| `::selection`             | 匹配被浏览者选中的文本等，如`p::selection`
| `::marker`                | 匹配列表项中的列表标记符，如`ul li::marker`
| `::placeholder`           | 匹配输入控件中的占位符，如`input::placeholder`
| `::backdrop`              | 匹配弹窗、视频等元素，全屏显示时的背景，如`video::backdrop`

<br>
